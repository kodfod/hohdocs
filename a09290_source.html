<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HoHDocs: scripts/Networking/PlayerHandler.as Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HoHDocs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a09290_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PlayerHandler.as</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a09290.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="a09984.html">    1</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="a09984.html">PlayerHandler</a></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div><div class="line"><a name="l00003"></a><span class="lineno"><a class="line" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">    3</a></span>&#160;    <a class="code" href="a10501.html">PlayerHusk</a>@ <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(uint8 peer)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        <span class="keywordflow">for</span> (uint i = 0; i &lt; <a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>.length(); i++)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[i].peer == peer)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;            {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[i].actor is null)</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                </div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[i].local)</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                    print(<span class="stringliteral">&quot;Player &quot;</span> + peer + <span class="stringliteral">&quot; is not a husk on &quot;</span> + (Network::IsServer() ? <span class="stringliteral">&quot;server&quot;</span> : <span class="stringliteral">&quot;client&quot;</span>));</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;            </div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                <span class="keywordflow">return</span> cast&lt;PlayerHusk&gt;(<a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[i].actor);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        }</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    </div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    </div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="a09984.html#abfb703c96964437fbefefb324798bde0">   25</a></span>&#160;    PlayerRecord@ <a class="code" href="a09984.html#abfb703c96964437fbefefb324798bde0">GetPlayerRecord</a>(uint8 peer)</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordflow">for</span> (uint i = 0; i &lt; <a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>.length(); i++)</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[i].peer == peer)</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[i];</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        }</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    </div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    </div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="a09984.html#a9f61ac19157c301dd9f5caacce622ef9">   36</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="a09984.html#a9f61ac19157c301dd9f5caacce622ef9">GetPlayerIndex</a>(uint8 peer)</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">for</span> (uint i = 0; i &lt; <a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>.length(); i++)</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[i].peer == peer)</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    </div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">//NOTE: If first param is uint8, it will be peer id (always the host in this case)</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">//      Not including an uint8 skips the peer id</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="a09984.html#a1e624897cd76ba1a59b3dd8e1503143f">   47</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a1e624897cd76ba1a59b3dd8e1503143f">SpawnPlayer</a>(<span class="keywordtype">int</span> plrId, vec2 pos, <span class="keywordtype">int</span> unitId, <span class="keywordtype">int</span> team)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordtype">int</span> index = <a class="code" href="a09984.html#a9f61ac19157c301dd9f5caacce622ef9">GetPlayerIndex</a>(plrId);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    </div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">if</span> (index == -1)</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            PrintError(<span class="stringliteral">&quot;Couldn&#39;t find player id &quot;</span> + plrId);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="a09275.html#ac16b93886431d07154be1c8d27e41c47">g_gameMode</a>.<a class="code" href="a11013.html#ac727a82ac11c2067ec77063db20d58f7">SpawnPlayer</a>(index, pos, unitId, team);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    </div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="a09984.html#a60c78b89125ef8224e773d64d63739be">   60</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a60c78b89125ef8224e773d64d63739be">SpawnPlayerCorpse</a>(<span class="keywordtype">int</span> plrId, vec2 pos)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordtype">int</span> index = <a class="code" href="a09984.html#a9f61ac19157c301dd9f5caacce622ef9">GetPlayerIndex</a>(plrId);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    </div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">if</span> (index == -1)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            PrintError(<span class="stringliteral">&quot;Couldn&#39;t find player id &quot;</span> + plrId);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="a09275.html#ac16b93886431d07154be1c8d27e41c47">g_gameMode</a>.<a class="code" href="a11013.html#a4ac60ed6114ee646126b91dc923059ee">SpawnPlayerCorpse</a>(index, pos);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    </div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        </div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// TODO: Move to a gamemode network handler?</span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="a09984.html#a199b64ea513eb8974dd3046f3807cb78">   75</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a199b64ea513eb8974dd3046f3807cb78">AttemptRespawn</a>(uint8 peerId)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="a09275.html#ac16b93886431d07154be1c8d27e41c47">g_gameMode</a>.<a class="code" href="a11013.html#adf73406a3a93bfc4f7ab4534484e8c67">AttemptRespawn</a>(peerId);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    </div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="a09984.html#a12e7ddfd58dd98d7c6d1bdc4022ffbe3">   80</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a12e7ddfd58dd98d7c6d1bdc4022ffbe3">ResetPlayerHealthArmor</a>(<span class="keywordtype">int</span> plrId)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keyword">auto</span> plr = <a class="code" href="a09984.html#abfb703c96964437fbefefb324798bde0">GetPlayerRecord</a>(plrId);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span> (plr !is null)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            plr.hp = 1.0;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            plr.armor = 0;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    </div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="a09984.html#ae46dfe2ceade6ae2275456d0d2c09482">   90</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#ae46dfe2ceade6ae2275456d0d2c09482">PlayerMove</a>(uint8 peer, vec2 pos, vec2 dir)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    </div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        plr.<a class="code" href="a10501.html#a431d7683ba5ae76fc43d3e4999e05463">MovePlayer</a>(pos, dir);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="a09984.html#a52401d4f06fec12afebc33d667e5799d">   99</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a52401d4f06fec12afebc33d667e5799d">PlayerMoveForce</a>(uint8 peer, vec2 pos, vec2 dir)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="a09984.html#ae46dfe2ceade6ae2275456d0d2c09482">PlayerMove</a>(peer, pos, dir);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    </div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="a09984.html#aa18de99e2b4dc49bffd08d37419b5cc1">  104</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#aa18de99e2b4dc49bffd08d37419b5cc1">PlayerDash</a>(uint8 peer, <span class="keywordtype">int</span> duration, vec2 dir)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        plr.<a class="code" href="a10501.html#ac7b78255f83cd1f182f39e70c2bddac6">Dash</a>(duration, dir);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="a09984.html#a5d8f80fb514126c3677d001c924953ed">  113</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a5d8f80fb514126c3677d001c924953ed">PlayerDashAbort</a>(uint8 peer)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        plr.m_dashTime = 0;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    </div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Damage on local player</span></div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="a09984.html#a4419c6f25125c19555b7e13b7bbb5631">  123</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a4419c6f25125c19555b7e13b7bbb5631">PlayerDamage</a>(uint8 peer, <span class="keywordtype">int</span> dmgType, <span class="keywordtype">int</span> dmg)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="a10489.html">Player</a>@ player = <a class="code" href="a09275.html#a53fa56d646e10e7e631e67762a0d2b3b">GetLocalPlayer</a>();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">return</span>; <span class="comment">// ???</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="a10849.html">DamageInfo</a> di;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        di.<a class="code" href="a10849.html#a429f851ec6433c77daa81e27189db6c5">DamageType</a> = uint8(dmgType);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        di.<a class="code" href="a10849.html#a6dc0a6edaed3d95acc70ad2ba529a3b1">Damage</a> = uint16(dmg);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordtype">int</span> iDamager = <a class="code" href="a09984.html#a9f61ac19157c301dd9f5caacce622ef9">GetPlayerIndex</a>(peer);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span> (iDamager != -1 &amp;&amp; <a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[iDamager].actor !is null)</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            @di.<a class="code" href="a10849.html#a949f2fc950ba53185dcc40b9ffd9d2f8">Attacker</a> = <a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[iDamager].actor;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        player.<a class="code" href="a10489.html#aa9d3de608bf93feba143cf78be6acdfa">NetDamage</a>(di, <a class="code" href="a09425.html#a6a5606f5f7c3548970b5a9f2dec9d959">xy</a>(player.m_unit.GetPosition()), player.<a class="code" href="a10489.html#a1b6f51f1627079fb2696e573fcbd469f">m_lastDirection</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// Other player reports that they were damaged</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="a09984.html#a2a5c0f080e54bf89e70e3731c226fec0">  141</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a2a5c0f080e54bf89e70e3731c226fec0">PlayerDamaged</a>(uint8 peer, <span class="keywordtype">int</span> dmgType, <span class="keywordtype">int</span> damager, <span class="keywordtype">int</span> dmg, <span class="keywordtype">float</span> hp, uint weapon)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="a10849.html">DamageInfo</a> di;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        di.<a class="code" href="a10849.html#a429f851ec6433c77daa81e27189db6c5">DamageType</a> = uint8(dmgType);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        di.<a class="code" href="a10849.html#a6dc0a6edaed3d95acc70ad2ba529a3b1">Damage</a> = int16(dmg);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        di.<a class="code" href="a10849.html#a6cb39a8ba0dd4996f8000c842a3c2a07">Weapon</a> = weapon;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        @di.<a class="code" href="a10849.html#a949f2fc950ba53185dcc40b9ffd9d2f8">Attacker</a> = <a class="code" href="a09985.html#aa81e769119f6fff5d014e11b8a7342dd">UnitHandler::GetActor</a>(damager);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        plr.<a class="code" href="a10501.html#a42baed86d3e44e9ed18787a3ec185b9f">NetDamage</a>(di, <a class="code" href="a09425.html#a6a5606f5f7c3548970b5a9f2dec9d959">xy</a>(plr.m_unit.GetPosition()), plr.<a class="code" href="a10501.html#a79d77536f487e3e2c250f6c14fe738f3">m_dir</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        plr.m_record.hp = hp;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        </div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keyword">auto</span> local = <a class="code" href="a09275.html#af66628646d0873e853726b13e4fa0992">GetLocalPlayerRecord</a>();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (local !is null &amp;&amp; !local.IsDead() &amp;&amp; local.actor !is null)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">for</span> (uint i = 0; i &lt; local.soulLinks.length(); i++)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">if</span> (uint(local.soulLinks[i]) == peer)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    cast&lt;Player&gt;(local.actor).SoulLinkDamage(dmg);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }       </div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="a09984.html#ace0cb0647bd5669d8b935eda7bb3cb1e">  165</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#ace0cb0647bd5669d8b935eda7bb3cb1e">PlayerHealed</a>(uint8 peer, <span class="keywordtype">int</span> amnt, <span class="keywordtype">float</span> hp)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        plr.NetHeal(amnt);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        plr.m_record.hp = hp;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    </div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="a09984.html#ad2f72d26d2e99657b89b35b77cba867a">  175</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#ad2f72d26d2e99657b89b35b77cba867a">HealPlayer</a>(uint8 peer, <span class="keywordtype">int</span> amnt)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keyword">auto</span> plr = <a class="code" href="a09275.html#a53fa56d646e10e7e631e67762a0d2b3b">GetLocalPlayer</a>();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            </div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        plr.Heal(amnt);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    </div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="a09984.html#a6b85f606917c3ffc72f49a051d31068d">  184</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a6b85f606917c3ffc72f49a051d31068d">PlayerSyncArmor</a>(uint8 peer, uint armorDefHash, <span class="keywordtype">int</span> armor)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        plr.m_record.armor = armor;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            </div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keyword">auto</span> armorDef = <a class="code" href="a08225.html#aa4c7af6ed907458d39da01c380c81053">LoadArmorDef</a>(armorDefHash);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span> (armorDef !is null)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            @plr.m_record.armorDef = armorDef;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    </div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="a09984.html#a9a0d1bd5cc99dc24fca1bce48353f6be">  197</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a9a0d1bd5cc99dc24fca1bce48353f6be">PlayerSyncHealth</a>(uint8 peer, <span class="keywordtype">float</span> hp)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keyword">auto</span> plr = <a class="code" href="a09984.html#abfb703c96964437fbefefb324798bde0">GetPlayerRecord</a>(peer);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        </div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        plr.hp = hp;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="a09984.html#ad3a33d45f4c6b4609b4afd0d182e0672">  207</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#ad3a33d45f4c6b4609b4afd0d182e0672">PlayerDied</a>(uint8 peer, <span class="keywordtype">int</span> killerPeer, <span class="keywordtype">int</span> damageType, <span class="keywordtype">int</span> damageAmount, <span class="keywordtype">bool</span> damageMelee, uint weapon)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keyword">auto</span> plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        </div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="a10849.html">DamageInfo</a> di;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        </div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keyword">auto</span> killer = <a class="code" href="a09984.html#abfb703c96964437fbefefb324798bde0">GetPlayerRecord</a>(killerPeer);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">if</span> (killer !is null)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            @di.<a class="code" href="a10849.html#a949f2fc950ba53185dcc40b9ffd9d2f8">Attacker</a> = killer.actor;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        di.<a class="code" href="a10849.html#a429f851ec6433c77daa81e27189db6c5">DamageType</a> = uint8(damageType);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        di.<a class="code" href="a10849.html#a6dc0a6edaed3d95acc70ad2ba529a3b1">Damage</a> = int16(damageAmount);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        di.<a class="code" href="a10849.html#a8180d29cd4daf285b0e372377ebdfd58">Melee</a> = damageMelee;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        di.<a class="code" href="a10849.html#a6cb39a8ba0dd4996f8000c842a3c2a07">Weapon</a> = weapon;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        </div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        plr.Kill(di);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        cast&lt;BaseGameMode&gt;(<a class="code" href="a09275.html#ac16b93886431d07154be1c8d27e41c47">g_gameMode</a>).<a class="code" href="a09984.html#ad3a33d45f4c6b4609b4afd0d182e0672">PlayerDied</a>(plr.m_record, killer, di);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        </div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keyword">auto</span> local = <a class="code" href="a09275.html#af66628646d0873e853726b13e4fa0992">GetLocalPlayerRecord</a>();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (local !is null &amp;&amp; !local.IsDead() &amp;&amp; local.actor !is null)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">for</span> (uint i = 0; i &lt; local.soulLinks.length(); i++)</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">if</span> (uint(local.soulLinks[i]) == peer)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    cast&lt;Player&gt;(local.actor).SoulLinkKill(plr);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    </div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="a09984.html#a5ea5ad7f3ccee3f7b0d350da1b05aa89">  236</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a5ea5ad7f3ccee3f7b0d350da1b05aa89">PlayerShareExperience</a>(<span class="keywordtype">int</span> experience)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="a10489.html">Player</a>@ player = <a class="code" href="a09275.html#a53fa56d646e10e7e631e67762a0d2b3b">GetLocalPlayer</a>();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> (player !is null)</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            player.<a class="code" href="a10489.html#a1705ab988a78154ec6f5cd26923c4486">NetShareExperience</a>(experience);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    </div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="a09984.html#a14763120515a10cd26551dee72dbb5a0">  243</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a14763120515a10cd26551dee72dbb5a0">PlayerSyncExperience</a>(uint8 peer, <span class="keywordtype">int</span> level, <span class="keywordtype">int</span> experience)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        plr.m_record.NetSyncExperience(level, experience);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="a09984.html#a33e9580e3a9a79a173fdb20061406630">  252</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a33e9580e3a9a79a173fdb20061406630">PlayerPickups</a>(uint8 peer, <span class="keywordtype">int</span> <a class="code" href="a08102.html#a8f7e0a4ae859284544ddf4fda15c10dc">num</a>, <span class="keywordtype">int</span> numTotal)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        plr.m_record.pickups = <a class="code" href="a08102.html#a8f7e0a4ae859284544ddf4fda15c10dc">num</a>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        plr.m_record.pickupsTotal = <a class="code" href="a08102.html#a8f7e0a4ae859284544ddf4fda15c10dc">num</a>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="a09984.html#a21b919fbcfa63632158d2888f5e2b37e">  262</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a21b919fbcfa63632158d2888f5e2b37e">PlayerLevelUp</a>(uint8 peer)</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        plr.<a class="code" href="a10501.html#a1b9fb6daf9678bc8533e8a8c54eb446c">OnLevelUp</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="a09984.html#a586495839bad42b95fc7f45a393a2168">  271</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a586495839bad42b95fc7f45a393a2168">ModifierTriggerEffect</a>(uint8 peer, <span class="keywordtype">int</span> verbEnum, uint verbId, <span class="keywordtype">int</span> modIndex, UnitPtr target)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="a10473.html">Modifiers::TriggerEffect</a>@ mod = null;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keyword">auto</span> verb = Modifiers::SyncVerb(verbEnum);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">if</span> (verb == <a class="code" href="a08633.html#a382cc5c6b51302019ef617c5364bb684">Modifiers::SyncVerb::Item</a>)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keyword">auto</span> item = <a class="code" href="a08102.html#a7a143400a8d6c1bc9e2a21499cbd1b5e">g_items</a>.<a class="code" href="a10109.html#a7a089cf59c745d5e27791ecaeaa89963">GetItem</a>(verbId);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (item is null)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                PrintError(<span class="stringliteral">&quot;Couldn&#39;t find item with ID &quot;</span> + verbId);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keyword">auto</span> subMod = item.modifiers[modIndex];</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keyword">auto</span> filterMod = cast&lt;Modifiers::FilterModifier&gt;(subMod);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">if</span> (filterMod !is null)</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">for</span> (uint i = 0; i &lt; filterMod.m_modsTriggerEffects.length(); i++)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    @mod = cast&lt;Modifiers::TriggerEffect&gt;(filterMod.m_modsTriggerEffects[i]);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <span class="keywordflow">if</span> (mod !is null)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        <span class="keywordflow">if</span> (i + 1 &lt; filterMod.m_modsTriggerEffects.length())</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                            PrintError(<span class="stringliteral">&quot;Warning: There are more modifiers for sync verb Item in filter modifiers list! First TriggerModifier is picked.&quot;</span>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                @mod = cast&lt;Modifiers::TriggerEffect&gt;(subMod);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (verb == <a class="code" href="a09971.html#ad195896409642af11d0659f464208108">Modifiers::SyncVerb::Set</a>)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keyword">auto</span> <span class="keyword">set</span> = <a class="code" href="a08102.html#a7a143400a8d6c1bc9e2a21499cbd1b5e">g_items</a>.<a class="code" href="a10109.html#a6e78153dcbf4b811d1fa1f6949a56393">m_sets</a>[verbId];</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keyword">auto</span> ownedSet = player.m_record.GetOwnedItemSet(<span class="keyword">set</span>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">if</span> (ownedSet is null)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                PrintError(<span class="stringliteral">&quot;Player record &quot;</span> + peer + <span class="stringliteral">&quot; does not own set with index &quot;</span> + verbId);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keyword">auto</span> bonus = ownedSet.GetBestBonus();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">if</span> (bonus is null)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                PrintError(<span class="stringliteral">&quot;Player record &quot;</span> + peer + <span class="stringliteral">&quot; does not have a best bonus with index &quot;</span> + verbId);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            @mod = cast&lt;Modifiers::TriggerEffect&gt;(bonus.modifiers[modIndex]);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (verb == <a class="code" href="a09971.html#a4b10f8a69bc4467d481051a9624f4177">Modifiers::SyncVerb::Drink</a>)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keyword">auto</span> drink = <a class="code" href="a08486.html#a3b2240216637ad9515d28943a0ec9804">GetTavernDrink</a>(verbId);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">if</span> (drink is null)</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                PrintError(<span class="stringliteral">&quot;Couldn&#39;t find drink with ID &quot;</span> + verbId);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            @mod = cast&lt;Modifiers::TriggerEffect&gt;(drink.modifiers[modIndex]);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (verb == <a class="code" href="a09971.html#ad1374fdc3ff8e9584252ccc74af4c8d1">Modifiers::SyncVerb::Passive</a>)</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">for</span> (uint i = 0; i &lt; player.m_skills.length(); i++)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="keyword">auto</span> skill = cast&lt;Skills::PassiveSkill&gt;(player.m_skills[i]);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="keywordflow">if</span> (skill !is null &amp;&amp; skill.m_skillId == verbId)</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    @mod = cast&lt;Modifiers::TriggerEffect&gt;(skill.m_modifiers[modIndex]);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (verb == <a class="code" href="a09971.html#ab1c6e907b744e137360019946be0d28e">Modifiers::SyncVerb::Wish</a>)</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keyword">auto</span> <a class="code" href="a08600.html#a59aa24ad5c40e6c725a18f2565f0c9f6">effect</a> = <a class="code" href="a09994.html#ab5f3dd5af78ae8d7fa156022ca6891e5">Fountain::GetEffect</a>(verbId);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="a08600.html#a59aa24ad5c40e6c725a18f2565f0c9f6">effect</a> is null)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                PrintError(<span class="stringliteral">&quot;Couldn&#39;t find wish with ID &quot;</span> + verbId);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            @mod = cast&lt;Modifiers::TriggerEffect&gt;(<a class="code" href="a08600.html#a59aa24ad5c40e6c725a18f2565f0c9f6">effect</a>.m_modifiers[modIndex]);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (verb == Modifiers::SyncVerb::Buff)</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keyword">auto</span> buffDef = <a class="code" href="a08087.html#a6966b1a8ec78adb80f4fe5d157bc1062">LoadActorBuff</a>(verbId);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">if</span> (buffDef is null)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                PrintError(<span class="stringliteral">&quot;Couldn&#39;t find buff with ID &quot;</span> + verbId);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            @mod = cast&lt;Modifiers::TriggerEffect&gt;(buffDef.m_modifiers[modIndex]);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> (mod is null)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            PrintError(<span class="stringliteral">&quot;Couldn&#39;t find trigger effect for peer &quot;</span> + peer + <span class="stringliteral">&quot;, verb &quot;</span> + verb + <span class="stringliteral">&quot;, verb ID &quot;</span> + verbId + <span class="stringliteral">&quot;, mod index &quot;</span> + modIndex);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        mod.<a class="code" href="a10473.html#a00b737703597fb34103e43654a53a985">NetTrigger</a>(player, target);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="a09984.html#a1a92af8062700d4e742f11a531df1888">  375</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a1a92af8062700d4e742f11a531df1888">UseUnit</a>(UnitPtr <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>, UnitPtr user)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keyword">auto</span> usable = cast&lt;IUsable&gt;(<a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>.GetScriptBehavior());</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span> (usable is null)</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="a10489.html">Player</a>@ plrLocal = cast&lt;Player&gt;(user.GetScriptBehavior());</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span> (plrLocal !is null)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            usable.Use(plrLocal);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plrHusk = cast&lt;PlayerHusk&gt;(user.GetScriptBehavior());</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">if</span> (plrHusk !is null)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            usable.NetUse(plrHusk);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="a09984.html#a4b190dae63ebb19e408fb11bb6a93857">  393</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a4b190dae63ebb19e408fb11bb6a93857">UseUnitSecure</a>(uint8 peer, UnitPtr <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>)</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> (!Network::IsServer())</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ plr = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">if</span> (plr is null)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keyword">auto</span> usable = cast&lt;IUsable&gt;(<a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>.GetScriptBehavior());</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">if</span> (usable is null)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">if</span> (!usable.CanUse(plr))</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        (Network::Message(<span class="stringliteral">&quot;UseUnit&quot;</span>) &lt;&lt; <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a> &lt;&lt; plr.m_unit).SendToAll();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        usable.NetUse(plr);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="a09984.html#a66ed229e347df2e108f26737f6a1b035">  413</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a66ed229e347df2e108f26737f6a1b035">TakeFreeLife</a>(<span class="keywordtype">int</span> peer, <span class="keywordtype">int</span> freeLives)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (Network::IsServer())</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">for</span> (uint i = 0; i &lt; <a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>.length(); i++)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            PlayerRecord@ plr = <a class="code" href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a>[i];</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="keywordflow">if</span> (plr.peer == uint8(peer))</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                plr.freeLivesTaken = freeLives;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                print(<span class="stringliteral">&quot;Peer &quot;</span> + peer + <span class="stringliteral">&quot; now has &quot;</span> + freeLives + <span class="stringliteral">&quot; lives&quot;</span>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        PrintError(<span class="stringliteral">&quot;Peer &quot;</span> + peer + <span class="stringliteral">&quot; was not found&quot;</span>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="a09984.html#a170454d995d168b01494318a6fad0ba8">  432</a></span>&#160;    <a class="code" href="a10513.html">Skills::ActiveSkill</a>@ <a class="code" href="a09984.html#a170454d995d168b01494318a6fad0ba8">GetPlayerSkill</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">for</span> (uint i = 0; i &lt; player.m_skills.length(); i++)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keyword">auto</span> skill = cast&lt;Skills::ActiveSkill&gt;(player.m_skills[i]);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="keywordflow">if</span> (skill !is null &amp;&amp; skill.m_skillId == uint(<span class="keywordtype">id</span>))</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                <span class="keywordflow">return</span> skill;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        PrintError(<span class="stringliteral">&quot;Couldn&#39;t active stack skill with ID &quot;</span> + <span class="keywordtype">id</span> + <span class="stringliteral">&quot; for peer &quot;</span> + peer);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="a09984.html#a2cfa125211b0a83754868838f1beaddf">  449</a></span>&#160;    Skills::IStackSkill@ <a class="code" href="a09984.html#a2cfa125211b0a83754868838f1beaddf">GetPlayerStackSkill</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">for</span> (uint i = 0; i &lt; player.m_skills.length(); i++)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keyword">auto</span> skill = cast&lt;Skills::IStackSkill&gt;(player.m_skills[i]);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">if</span> (skill !is null &amp;&amp; player.m_skills[i].m_skillId == uint(<span class="keywordtype">id</span>))</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                <span class="keywordflow">return</span> skill;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        PrintError(<span class="stringliteral">&quot;Couldn&#39;t find stack skill with ID &quot;</span> + <span class="keywordtype">id</span> + <span class="stringliteral">&quot; for peer &quot;</span> + peer);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="a09984.html#a9fab3312c6779d9442f21e36aefa3ecc">  466</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a9fab3312c6779d9442f21e36aefa3ecc">PlayerActiveSkillActivate</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, vec2 target)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keyword">auto</span> skill = <a class="code" href="a09984.html#a170454d995d168b01494318a6fad0ba8">GetPlayerSkill</a>(peer, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span> (skill is null)</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        skill.NetActivate(target);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="a09984.html#a16c6ebc822f061552851b77c982381c8">  475</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a16c6ebc822f061552851b77c982381c8">PlayerActiveSkillDoActivate</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, vec2 target, SValue@ param)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keyword">auto</span> skill = <a class="code" href="a09984.html#a170454d995d168b01494318a6fad0ba8">GetPlayerSkill</a>(peer, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span> (skill is null)</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        skill.NetDoActivate(param, target);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="a09984.html#a277abd3f2bd952ed54984437b0827106">  484</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a277abd3f2bd952ed54984437b0827106">PlayerActiveSkillDeactivate</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keyword">auto</span> skill = <a class="code" href="a09984.html#a170454d995d168b01494318a6fad0ba8">GetPlayerSkill</a>(peer, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">if</span> (skill is null)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        skill.NetDeactivate();</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="a09984.html#abd4e70a7bc37ef2e26f87762e957ad36">  493</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#abd4e70a7bc37ef2e26f87762e957ad36">PlayerActiveSkillRelease</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, vec2 target)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keyword">auto</span> skill = <a class="code" href="a09984.html#a170454d995d168b01494318a6fad0ba8">GetPlayerSkill</a>(peer, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">if</span> (skill is null)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        skill.NetRelease(target);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="a09984.html#afe0fd9675face31628e769b111eacea4">  502</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#afe0fd9675face31628e769b111eacea4">PlayerStackSkillAdd</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="a08102.html#a8f7e0a4ae859284544ddf4fda15c10dc">num</a>)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keyword">auto</span> skill = <a class="code" href="a09984.html#a2cfa125211b0a83754868838f1beaddf">GetPlayerStackSkill</a>(peer, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span> (skill is null)</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        skill.NetAddStack(<a class="code" href="a08102.html#a8f7e0a4ae859284544ddf4fda15c10dc">num</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="a09984.html#a5d1a0afefff5a31dab54b9ce158b786f">  511</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a5d1a0afefff5a31dab54b9ce158b786f">PlayerStackSkillTake</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="a08102.html#a8f7e0a4ae859284544ddf4fda15c10dc">num</a>)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keyword">auto</span> skill = <a class="code" href="a09984.html#a2cfa125211b0a83754868838f1beaddf">GetPlayerStackSkill</a>(peer, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">if</span> (skill is null)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        skill.NetTakeStack(<a class="code" href="a08102.html#a8f7e0a4ae859284544ddf4fda15c10dc">num</a>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="a09984.html#a27992768e34b9c0a766b6719db0b6dbd">  520</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a27992768e34b9c0a766b6719db0b6dbd">PlayerShatterActivate</a>(uint8 peer, UnitPtr enemy, SValue@ params)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="a10501.html">PlayerHusk</a>@ player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keyword">auto</span> actor = cast&lt;Actor&gt;(enemy.GetScriptBehavior());</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> (actor is null)</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            PrintError(<span class="stringliteral">&quot;Enemy is not of type Actor!&quot;</span>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">for</span> (uint i = 0; i &lt; player.m_skills.length(); i++)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keyword">auto</span> shatter = cast&lt;Skills::Shatter&gt;(player.m_skills[i]);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">if</span> (shatter !is null)</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                shatter.NetDo(actor, params);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        PrintError(<span class="stringliteral">&quot;Couldn&#39;t find shatter skill!&quot;</span>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="a09984.html#a834bd8f0e4c769bb1821e21bc7d8be96">  546</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a834bd8f0e4c769bb1821e21bc7d8be96">PlayerChargeUnit</a>(uint8 peer, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">float</span> charge, vec2 target, <span class="keywordtype">int</span> unitId)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keyword">auto</span> skill = cast&lt;Skills::ChargeUnit&gt;(<a class="code" href="a09984.html#a170454d995d168b01494318a6fad0ba8">GetPlayerSkill</a>(peer, <span class="keywordtype">id</span>));</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">if</span> (skill is null)</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        skill.DoShoot(charge, target, unitId);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="a09984.html#a09e177ee461def824503b67e23ab2753">  555</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a09e177ee461def824503b67e23ab2753">PlayerGiveGold</a>(uint8 peer, <span class="keywordtype">int</span> amount)</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="a08534.html#a8bc794c1e462b8c5940badb5e3225f31">NetGiveGoldImpl</a>(amount, player);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="a09984.html#a0254c13a6549d67953b0a562bbb23835">  564</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a0254c13a6549d67953b0a562bbb23835">PlayerGiveOre</a>(uint8 peer, <span class="keywordtype">int</span> amount)</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="a08546.html#aa08e2da35bcb5ebd884c75cbd4edc34e">NetGiveOreImpl</a>(amount, player);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="a09984.html#a58863da42c673e1631eaae4ac1dd0fd5">  573</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a58863da42c673e1631eaae4ac1dd0fd5">PlayerGiveKey</a>(uint8 peer, <span class="keywordtype">int</span> lock, <span class="keywordtype">int</span> amount)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="a08537.html#ac1cb7d0ab8ef0bc5a55904481d4fbf16">NetGiveKeyImpl</a>(lock, amount, player);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="a09984.html#a442cf5bd11f480db9ff1fb32f3cc6050">  582</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a442cf5bd11f480db9ff1fb32f3cc6050">PlayerGiveItem</a>(uint8 peer, <span class="keywordtype">string</span> <span class="keywordtype">id</span>)</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keyword">auto</span> item = <a class="code" href="a08102.html#a7a143400a8d6c1bc9e2a21499cbd1b5e">g_items</a>.<a class="code" href="a10109.html#a7a089cf59c745d5e27791ecaeaa89963">GetItem</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span> (item is null)</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            PrintError(<span class="stringliteral">&quot;No such item with ID \&quot;&quot;</span> + <span class="keywordtype">id</span> + <span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <a class="code" href="a08633.html#ab88d1e47a30ee6f60c8716cca8b2c050">GiveItemImpl</a>(item, player, <span class="keyword">true</span>);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="a09984.html#a76d3bc38c26614318b11e8174f3fc842">  598</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a76d3bc38c26614318b11e8174f3fc842">PlayerItemAttuned</a>(uint8 peer, <span class="keywordtype">string</span> <span class="keywordtype">id</span>)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keyword">auto</span> item = <a class="code" href="a08102.html#a7a143400a8d6c1bc9e2a21499cbd1b5e">g_items</a>.<a class="code" href="a10109.html#a7a089cf59c745d5e27791ecaeaa89963">GetItem</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">if</span> (item is null)</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            PrintError(<span class="stringliteral">&quot;No such item with ID \&quot;&quot;</span> + <span class="keywordtype">id</span> + <span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        player.AttuneItem(item);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="a09984.html#afd2f377d2960dbcc0068c09578af3dde">  614</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#afd2f377d2960dbcc0068c09578af3dde">PlayerGiveUpgrade</a>(uint8 peer, <span class="keywordtype">string</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> level)</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keyword">auto</span> upgrade = <a class="code" href="a09997.html#af25c8a6728f07eb50c02a90cb86cb596">Upgrades::GetShopUpgrade</a>(<span class="keywordtype">id</span>, player.m_record);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">if</span> (upgrade is null)</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            PrintError(<span class="stringliteral">&quot;Couldn&#39;t find upgrade with id \&quot;&quot;</span> + <span class="keywordtype">id</span> + <span class="stringliteral">&quot;\&quot; to upgrade to level &quot;</span> + level);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keyword">auto</span> step = upgrade.GetStep(level);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">if</span> (step is null)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            PrintError(<span class="stringliteral">&quot;Couldn&#39;t find upgrade step level &quot;</span> + level + <span class="stringliteral">&quot; for upgrade with id \&quot;&quot;</span> + <span class="keywordtype">id</span> + <span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">if</span> (!step.ApplyNow(player.m_record))</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            PrintError(<span class="stringliteral">&quot;Step ApplyNow returned false for level &quot;</span> + level + <span class="stringliteral">&quot; of upgrade with id \&quot;&quot;</span> + <span class="keywordtype">id</span> + <span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span> (upgrade.ShouldRemember())</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            OwnedUpgrade@ ownedUpgrade = player.m_record.GetOwnedUpgrade(upgrade.m_id);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="keywordflow">if</span> (ownedUpgrade !is null)</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                ownedUpgrade.m_level = step.m_level;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                @ownedUpgrade.m_step = step;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                @ownedUpgrade = OwnedUpgrade();</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                ownedUpgrade.m_id = upgrade.m_id;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                ownedUpgrade.m_level = step.m_level;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                @ownedUpgrade.m_step = step;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                player.m_record.upgrades.insertLast(ownedUpgrade);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        player.RefreshModifiers();</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="a09984.html#a9e8002a84a6202f6f7b993c6a0dddaef">  661</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a9e8002a84a6202f6f7b993c6a0dddaef">PlayerRespecSkills</a>(uint8 peer)</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        player.m_record.ClearSkillUpgrades();</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        player.RefreshSkills();</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        player.RefreshModifiers();</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="a09984.html#a816a5ed14cb9ad5facdac9be6f2f17c6">  673</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a816a5ed14cb9ad5facdac9be6f2f17c6">PlayerRespecAttunements</a>(uint8 peer)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        player.m_record.itemForgeAttuned.removeRange(0, player.m_record.itemForgeAttuned.length());</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        player.RefreshModifiers();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="a09984.html#a697f18b8be50c1e79617ed8f2d520cd4">  683</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a697f18b8be50c1e79617ed8f2d520cd4">ProximityTrapEnter</a>(uint8 peer, UnitPtr <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>)</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keyword">auto</span> trap = cast&lt;ProximityTrap&gt;(<a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>.GetScriptBehavior());</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">if</span> (trap is null)</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            PrintError(<span class="stringliteral">&quot;Unit &quot;</span> + <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>.GetId() + <span class="stringliteral">&quot; (&quot;</span> + <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>.GetDebugName() + <span class="stringliteral">&quot;) is not a ProximityTrap&quot;</span>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        trap.OnEnter(player);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="a09984.html#a8637c52c86141c6bc7367d0e884eafae">  699</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a8637c52c86141c6bc7367d0e884eafae">ProximityTrapExit</a>(uint8 peer, UnitPtr <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>)</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keyword">auto</span> trap = cast&lt;ProximityTrap&gt;(<a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>.GetScriptBehavior());</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">if</span> (trap is null)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            PrintError(<span class="stringliteral">&quot;Unit &quot;</span> + <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>.GetId() + <span class="stringliteral">&quot; (&quot;</span> + <a class="code" href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a>.GetDebugName() + <span class="stringliteral">&quot;) is not a ProximityTrap&quot;</span>);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        trap.OnExit(player);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="a09984.html#a6494af48e4609af094f3ceb15cea3948">  715</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a6494af48e4609af094f3ceb15cea3948">ReviveCorpse</a>(uint8 peer, <span class="keywordtype">int</span> plrId)</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#abfb703c96964437fbefefb324798bde0">GetPlayerRecord</a>(plrId);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            </div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        player.corpse.NetRevive(<a class="code" href="a09984.html#abfb703c96964437fbefefb324798bde0">GetPlayerRecord</a>(peer));</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="a09984.html#ad9faf1f6bbb8760daa6b996b1a18e34e">  724</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#ad9faf1f6bbb8760daa6b996b1a18e34e">PlayerTitleModifiers</a>(uint8 peer, SValue@ params)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#abfb703c96964437fbefefb324798bde0">GetPlayerRecord</a>(peer);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <a class="code" href="a09335.html#a7de9348a5fe49d9c7884272393c86365">g_classTitles</a>.<a class="code" href="a11765.html#a0cf9f321b239002af1995a7eb92e7b60">NetRefreshModifiers</a>(player, params);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="a09984.html#ab89804caa13f74cea349af89c52ac3ba">  733</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#ab89804caa13f74cea349af89c52ac3ba">PlayerPing</a>(uint8 peer, vec2 pos)</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordflow">if</span> (!GetVarBool(<span class="stringliteral">&quot;g_show_pings&quot;</span>))</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#abfb703c96964437fbefefb324798bde0">GetPlayerRecord</a>(peer);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keyword">auto</span> gm = cast&lt;Campaign&gt;(<a class="code" href="a09275.html#ac16b93886431d07154be1c8d27e41c47">g_gameMode</a>);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">if</span> (gm is null)</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        player.pingCount++;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        UnitPtr unitPing = gm.m_prodPing.Produce(<a class="code" href="a09275.html#aab84ef508ba02254f00c7cd02f420b28">g_scene</a>, <a class="code" href="a09425.html#a2b8cbbb0d753d9aefbf91b1ff7868f72">xyz</a>(pos));</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keyword">auto</span> pingBehavior = cast&lt;PingBehavior&gt;(unitPing.GetScriptBehavior());</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        @pingBehavior.m_owner = player;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="a09984.html#af48aa05db7a1b8abcfa46356f80c5b82">  753</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#af48aa05db7a1b8abcfa46356f80c5b82">PlayerCombo</a>(uint8 peer, <span class="keywordtype">bool</span> started, <span class="keywordtype">int</span> time, <span class="keywordtype">int</span> count)</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        player.m_comboActive = started;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        player.m_comboTime = time;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        player.m_comboCount = count;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="a09984.html#a1295d08668de66c9a6b02871bb1b0f2d">  764</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a1295d08668de66c9a6b02871bb1b0f2d">PlayerUpdateColors</a>(uint8 peer, SValue@ params)</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keyword">auto</span> record = player.m_record;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        record.name = GetParamString(UnitPtr(), params, <span class="stringliteral">&quot;name&quot;</span>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        record.face = GetParamInt(UnitPtr(), params, <span class="stringliteral">&quot;face&quot;</span>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        record.voice = GetParamFloat(UnitPtr(), params, <span class="stringliteral">&quot;voice&quot;</span>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keyword">auto</span> arrColors = GetParamArray(UnitPtr(), params, <span class="stringliteral">&quot;colors&quot;</span>);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        record.colors.removeRange(0, record.colors.length());</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">for</span> (uint i = 0; i &lt; arrColors.length(); i++)</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="keyword">auto</span> col = arrColors[i].GetArray();</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keyword">auto</span> category = <a class="code" href="a09974.html#a13fb01e177e447105c1c8471944208ff">Materials::Category</a>(col[0].GetInteger());</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            uint <span class="keywordtype">id</span> = uint(col[1].GetInteger());</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keyword">auto</span> dye = <a class="code" href="a09974.html#adc4db343a43066d9ea030c1f4c37e4bc">Materials::GetDye</a>(category, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <span class="keywordflow">if</span> (dye is null)</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                PrintError(<span class="stringliteral">&quot;Couldn&#39;t find dye for category &quot;</span> + <span class="keywordtype">int</span>(category) + <span class="stringliteral">&quot; and id &quot;</span> + <span class="keywordtype">id</span>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            }</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            record.colors.insertLast(dye);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        player.UpdateColors();</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="a09984.html#a827bbc35b2e38c20d9b1559668b5e38d">  798</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a09984.html#a827bbc35b2e38c20d9b1559668b5e38d">PlayerChangeClass</a>(uint8 peer, <span class="keywordtype">string</span> newClass)</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keyword">auto</span> player = <a class="code" href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">GetPlayer</a>(peer);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">if</span> (player is null)</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keyword">auto</span> record = player.m_record;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        record.charClass = newClass;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        player.Initialize(record);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div><div class="ttc" id="a09275_html_af66628646d0873e853726b13e4fa0992"><div class="ttname"><a href="a09275.html#af66628646d0873e853726b13e4fa0992">GetLocalPlayerRecord</a></div><div class="ttdeci">PlayerRecord GetLocalPlayerRecord()</div><div class="ttdef"><b>Definition:</b> <a href="a09275_source.html#l00391">main.as:391</a></div></div>
<div class="ttc" id="a09985_html_aa81e769119f6fff5d014e11b8a7342dd"><div class="ttname"><a href="a09985.html#aa81e769119f6fff5d014e11b8a7342dd">UnitHandler::GetActor</a></div><div class="ttdeci">Actor GetActor(int unitId)</div><div class="ttdef"><b>Definition:</b> <a href="a09293_source.html#l00033">UnitHandler.as:33</a></div></div>
<div class="ttc" id="a09984_html_a5d8f80fb514126c3677d001c924953ed"><div class="ttname"><a href="a09984.html#a5d8f80fb514126c3677d001c924953ed">PlayerHandler::PlayerDashAbort</a></div><div class="ttdeci">void PlayerDashAbort(uint8 peer)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00113">PlayerHandler.as:113</a></div></div>
<div class="ttc" id="a08600_html_a59aa24ad5c40e6c725a18f2565f0c9f6"><div class="ttname"><a href="a08600.html#a59aa24ad5c40e6c725a18f2565f0c9f6">effect</a></div><div class="ttdeci">UnitScene effect</div><div class="ttdef"><b>Definition:</b> <a href="a08600_source.html#l00082">GoreSpawner.as:82</a></div></div>
<div class="ttc" id="a09984_html_a2cfa125211b0a83754868838f1beaddf"><div class="ttname"><a href="a09984.html#a2cfa125211b0a83754868838f1beaddf">PlayerHandler::GetPlayerStackSkill</a></div><div class="ttdeci">Skills::IStackSkill GetPlayerStackSkill(uint8 peer, int id)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00449">PlayerHandler.as:449</a></div></div>
<div class="ttc" id="a08225_html_aa4c7af6ed907458d39da01c380c81053"><div class="ttname"><a href="a08225.html#aa4c7af6ed907458d39da01c380c81053">LoadArmorDef</a></div><div class="ttdeci">ArmorDef LoadArmorDef(string path)</div><div class="ttdef"><b>Definition:</b> <a href="a08225_source.html#l00167">Armor.as:167</a></div></div>
<div class="ttc" id="a09984_html_a442cf5bd11f480db9ff1fb32f3cc6050"><div class="ttname"><a href="a09984.html#a442cf5bd11f480db9ff1fb32f3cc6050">PlayerHandler::PlayerGiveItem</a></div><div class="ttdeci">void PlayerGiveItem(uint8 peer, string id)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00582">PlayerHandler.as:582</a></div></div>
<div class="ttc" id="a09984_html_ae46dfe2ceade6ae2275456d0d2c09482"><div class="ttname"><a href="a09984.html#ae46dfe2ceade6ae2275456d0d2c09482">PlayerHandler::PlayerMove</a></div><div class="ttdeci">void PlayerMove(uint8 peer, vec2 pos, vec2 dir)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00090">PlayerHandler.as:90</a></div></div>
<div class="ttc" id="a09984_html_a697f18b8be50c1e79617ed8f2d520cd4"><div class="ttname"><a href="a09984.html#a697f18b8be50c1e79617ed8f2d520cd4">PlayerHandler::ProximityTrapEnter</a></div><div class="ttdeci">void ProximityTrapEnter(uint8 peer, UnitPtr unit)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00683">PlayerHandler.as:683</a></div></div>
<div class="ttc" id="a09984_html_a14763120515a10cd26551dee72dbb5a0"><div class="ttname"><a href="a09984.html#a14763120515a10cd26551dee72dbb5a0">PlayerHandler::PlayerSyncExperience</a></div><div class="ttdeci">void PlayerSyncExperience(uint8 peer, int level, int experience)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00243">PlayerHandler.as:243</a></div></div>
<div class="ttc" id="a09984_html_af48aa05db7a1b8abcfa46356f80c5b82"><div class="ttname"><a href="a09984.html#af48aa05db7a1b8abcfa46356f80c5b82">PlayerHandler::PlayerCombo</a></div><div class="ttdeci">void PlayerCombo(uint8 peer, bool started, int time, int count)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00753">PlayerHandler.as:753</a></div></div>
<div class="ttc" id="a09974_html_adc4db343a43066d9ea030c1f4c37e4bc"><div class="ttname"><a href="a09974.html#adc4db343a43066d9ea030c1f4c37e4bc">Materials::GetDye</a></div><div class="ttdeci">Dye GetDye(string category, string id)</div><div class="ttdef"><b>Definition:</b> <a href="a08660_source.html#l00117">PlayerMaterial.as:117</a></div></div>
<div class="ttc" id="a09984_html_a827bbc35b2e38c20d9b1559668b5e38d"><div class="ttname"><a href="a09984.html#a827bbc35b2e38c20d9b1559668b5e38d">PlayerHandler::PlayerChangeClass</a></div><div class="ttdeci">void PlayerChangeClass(uint8 peer, string newClass)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00798">PlayerHandler.as:798</a></div></div>
<div class="ttc" id="a09984_html_a33e9580e3a9a79a173fdb20061406630"><div class="ttname"><a href="a09984.html#a33e9580e3a9a79a173fdb20061406630">PlayerHandler::PlayerPickups</a></div><div class="ttdeci">void PlayerPickups(uint8 peer, int num, int numTotal)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00252">PlayerHandler.as:252</a></div></div>
<div class="ttc" id="a09984_html_a8637c52c86141c6bc7367d0e884eafae"><div class="ttname"><a href="a09984.html#a8637c52c86141c6bc7367d0e884eafae">PlayerHandler::ProximityTrapExit</a></div><div class="ttdeci">void ProximityTrapExit(uint8 peer, UnitPtr unit)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00699">PlayerHandler.as:699</a></div></div>
<div class="ttc" id="a10109_html_a7a089cf59c745d5e27791ecaeaa89963"><div class="ttname"><a href="a10109.html#a7a089cf59c745d5e27791ecaeaa89963">ActorItems::GetItem</a></div><div class="ttdeci">ActorItem GetItem(string id)</div><div class="ttdef"><b>Definition:</b> <a href="a08102_source.html#l00293">ActorItem.as:293</a></div></div>
<div class="ttc" id="a08102_html_a8f7e0a4ae859284544ddf4fda15c10dc"><div class="ttname"><a href="a08102.html#a8f7e0a4ae859284544ddf4fda15c10dc">num</a></div><div class="ttdeci">class ActorSet num</div></div>
<div class="ttc" id="a10473_html_a00b737703597fb34103e43654a53a985"><div class="ttname"><a href="a10473.html#a00b737703597fb34103e43654a53a985">Modifiers::TriggerEffect::NetTrigger</a></div><div class="ttdeci">void NetTrigger(PlayerBase@ player, UnitPtr target)</div><div class="ttdef"><b>Definition:</b> <a href="a08351_source.html#l00044">TriggerEffect.as:44</a></div></div>
<div class="ttc" id="a10849_html_a6dc0a6edaed3d95acc70ad2ba529a3b1"><div class="ttname"><a href="a10849.html#a6dc0a6edaed3d95acc70ad2ba529a3b1">DamageInfo::Damage</a></div><div class="ttdeci">int32 Damage</div><div class="ttdef"><b>Definition:</b> <a href="a08603_source.html#l00051">IDamageTaker.as:51</a></div></div>
<div class="ttc" id="a09984_html_a816a5ed14cb9ad5facdac9be6f2f17c6"><div class="ttname"><a href="a09984.html#a816a5ed14cb9ad5facdac9be6f2f17c6">PlayerHandler::PlayerRespecAttunements</a></div><div class="ttdeci">void PlayerRespecAttunements(uint8 peer)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00673">PlayerHandler.as:673</a></div></div>
<div class="ttc" id="a09971_html_ad195896409642af11d0659f464208108"><div class="ttname"><a href="a09971.html#ad195896409642af11d0659f464208108">Modifiers::Set</a></div><div class="ttdeci">enum Modifiers::EffectTrigger Set</div></div>
<div class="ttc" id="a09984_html_a2a5c0f080e54bf89e70e3731c226fec0"><div class="ttname"><a href="a09984.html#a2a5c0f080e54bf89e70e3731c226fec0">PlayerHandler::PlayerDamaged</a></div><div class="ttdeci">void PlayerDamaged(uint8 peer, int dmgType, int damager, int dmg, float hp, uint weapon)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00141">PlayerHandler.as:141</a></div></div>
<div class="ttc" id="a09984_html_a21b919fbcfa63632158d2888f5e2b37e"><div class="ttname"><a href="a09984.html#a21b919fbcfa63632158d2888f5e2b37e">PlayerHandler::PlayerLevelUp</a></div><div class="ttdeci">void PlayerLevelUp(uint8 peer)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00262">PlayerHandler.as:262</a></div></div>
<div class="ttc" id="a09984_html_a170454d995d168b01494318a6fad0ba8"><div class="ttname"><a href="a09984.html#a170454d995d168b01494318a6fad0ba8">PlayerHandler::GetPlayerSkill</a></div><div class="ttdeci">Skills::ActiveSkill GetPlayerSkill(uint8 peer, int id)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00432">PlayerHandler.as:432</a></div></div>
<div class="ttc" id="a10849_html"><div class="ttname"><a href="a10849.html">DamageInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="a08603_source.html#l00048">IDamageTaker.as:48</a></div></div>
<div class="ttc" id="a08537_html_ac1cb7d0ab8ef0bc5a55904481d4fbf16"><div class="ttname"><a href="a08537.html#ac1cb7d0ab8ef0bc5a55904481d4fbf16">NetGiveKeyImpl</a></div><div class="ttdeci">GiveKey IEffect NetGiveKeyImpl(int lock, int amount, PlayerBase@ player)</div><div class="ttdef"><b>Definition:</b> <a href="a08537_source.html#l00048">GiveKey.as:48</a></div></div>
<div class="ttc" id="a09984_html_abfb703c96964437fbefefb324798bde0"><div class="ttname"><a href="a09984.html#abfb703c96964437fbefefb324798bde0">PlayerHandler::GetPlayerRecord</a></div><div class="ttdeci">PlayerRecord GetPlayerRecord(uint8 peer)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00025">PlayerHandler.as:25</a></div></div>
<div class="ttc" id="a09984_html"><div class="ttname"><a href="a09984.html">PlayerHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00001">PlayerHandler.as:1</a></div></div>
<div class="ttc" id="a10849_html_a6cb39a8ba0dd4996f8000c842a3c2a07"><div class="ttname"><a href="a10849.html#a6cb39a8ba0dd4996f8000c842a3c2a07">DamageInfo::Weapon</a></div><div class="ttdeci">uint Weapon</div><div class="ttdef"><b>Definition:</b> <a href="a08603_source.html#l00059">IDamageTaker.as:59</a></div></div>
<div class="ttc" id="a09984_html_a6494af48e4609af094f3ceb15cea3948"><div class="ttname"><a href="a09984.html#a6494af48e4609af094f3ceb15cea3948">PlayerHandler::ReviveCorpse</a></div><div class="ttdeci">void ReviveCorpse(uint8 peer, int plrId)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00715">PlayerHandler.as:715</a></div></div>
<div class="ttc" id="a09984_html_a586495839bad42b95fc7f45a393a2168"><div class="ttname"><a href="a09984.html#a586495839bad42b95fc7f45a393a2168">PlayerHandler::ModifierTriggerEffect</a></div><div class="ttdeci">void ModifierTriggerEffect(uint8 peer, int verbEnum, uint verbId, int modIndex, UnitPtr target)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00271">PlayerHandler.as:271</a></div></div>
<div class="ttc" id="a09984_html_a1295d08668de66c9a6b02871bb1b0f2d"><div class="ttname"><a href="a09984.html#a1295d08668de66c9a6b02871bb1b0f2d">PlayerHandler::PlayerUpdateColors</a></div><div class="ttdeci">void PlayerUpdateColors(uint8 peer, SValue@ params)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00764">PlayerHandler.as:764</a></div></div>
<div class="ttc" id="a10513_html"><div class="ttname"><a href="a10513.html">Skills::ActiveSkill</a></div><div class="ttdef"><b>Definition:</b> <a href="a08378_source.html#l00003">ActiveSkill.as:3</a></div></div>
<div class="ttc" id="a09984_html_abd4e70a7bc37ef2e26f87762e957ad36"><div class="ttname"><a href="a09984.html#abd4e70a7bc37ef2e26f87762e957ad36">PlayerHandler::PlayerActiveSkillRelease</a></div><div class="ttdeci">void PlayerActiveSkillRelease(uint8 peer, int id, vec2 target)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00493">PlayerHandler.as:493</a></div></div>
<div class="ttc" id="a08087_html_a6966b1a8ec78adb80f4fe5d157bc1062"><div class="ttname"><a href="a08087.html#a6966b1a8ec78adb80f4fe5d157bc1062">LoadActorBuff</a></div><div class="ttdeci">ActorBuffDef LoadActorBuff(string path)</div><div class="ttdef"><b>Definition:</b> <a href="a08087_source.html#l00251">ActorBuff.as:251</a></div></div>
<div class="ttc" id="a10501_html_a42baed86d3e44e9ed18787a3ec185b9f"><div class="ttname"><a href="a10501.html#a42baed86d3e44e9ed18787a3ec185b9f">PlayerHusk::NetDamage</a></div><div class="ttdeci">void NetDamage(DamageInfo dmg, vec2 pos, vec2 dir) override</div><div class="ttdef"><b>Definition:</b> <a href="a08372_source.html#l00053">PlayerHusk.as:53</a></div></div>
<div class="ttc" id="a09984_html_a199b64ea513eb8974dd3046f3807cb78"><div class="ttname"><a href="a09984.html#a199b64ea513eb8974dd3046f3807cb78">PlayerHandler::AttemptRespawn</a></div><div class="ttdeci">void AttemptRespawn(uint8 peerId)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00075">PlayerHandler.as:75</a></div></div>
<div class="ttc" id="a10501_html_ac7b78255f83cd1f182f39e70c2bddac6"><div class="ttname"><a href="a10501.html#ac7b78255f83cd1f182f39e70c2bddac6">PlayerHusk::Dash</a></div><div class="ttdeci">void Dash(int dur, vec2 dir)</div><div class="ttdef"><b>Definition:</b> <a href="a08372_source.html#l00128">PlayerHusk.as:128</a></div></div>
<div class="ttc" id="a09984_html_a27992768e34b9c0a766b6719db0b6dbd"><div class="ttname"><a href="a09984.html#a27992768e34b9c0a766b6719db0b6dbd">PlayerHandler::PlayerShatterActivate</a></div><div class="ttdeci">void PlayerShatterActivate(uint8 peer, UnitPtr enemy, SValue@ params)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00520">PlayerHandler.as:520</a></div></div>
<div class="ttc" id="a09984_html_aa18de99e2b4dc49bffd08d37419b5cc1"><div class="ttname"><a href="a09984.html#aa18de99e2b4dc49bffd08d37419b5cc1">PlayerHandler::PlayerDash</a></div><div class="ttdeci">void PlayerDash(uint8 peer, int duration, vec2 dir)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00104">PlayerHandler.as:104</a></div></div>
<div class="ttc" id="a09984_html_a18f97fb53f3b9782d1507259e54bfaa0"><div class="ttname"><a href="a09984.html#a18f97fb53f3b9782d1507259e54bfaa0">PlayerHandler::GetPlayer</a></div><div class="ttdeci">PlayerHusk GetPlayer(uint8 peer)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00003">PlayerHandler.as:3</a></div></div>
<div class="ttc" id="a09984_html_afe0fd9675face31628e769b111eacea4"><div class="ttname"><a href="a09984.html#afe0fd9675face31628e769b111eacea4">PlayerHandler::PlayerStackSkillAdd</a></div><div class="ttdeci">void PlayerStackSkillAdd(uint8 peer, int id, int num)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00502">PlayerHandler.as:502</a></div></div>
<div class="ttc" id="a09984_html_a6b85f606917c3ffc72f49a051d31068d"><div class="ttname"><a href="a09984.html#a6b85f606917c3ffc72f49a051d31068d">PlayerHandler::PlayerSyncArmor</a></div><div class="ttdeci">void PlayerSyncArmor(uint8 peer, uint armorDefHash, int armor)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00184">PlayerHandler.as:184</a></div></div>
<div class="ttc" id="a10489_html"><div class="ttname"><a href="a10489.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="a15560_source.html#l00012">Player.as:12</a></div></div>
<div class="ttc" id="a09984_html_ad3a33d45f4c6b4609b4afd0d182e0672"><div class="ttname"><a href="a09984.html#ad3a33d45f4c6b4609b4afd0d182e0672">PlayerHandler::PlayerDied</a></div><div class="ttdeci">void PlayerDied(uint8 peer, int killerPeer, int damageType, int damageAmount, bool damageMelee, uint weapon)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00207">PlayerHandler.as:207</a></div></div>
<div class="ttc" id="a10849_html_a429f851ec6433c77daa81e27189db6c5"><div class="ttname"><a href="a10849.html#a429f851ec6433c77daa81e27189db6c5">DamageInfo::DamageType</a></div><div class="ttdeci">uint8 DamageType</div><div class="ttdef"><b>Definition:</b> <a href="a08603_source.html#l00050">IDamageTaker.as:50</a></div></div>
<div class="ttc" id="a09971_html_ab1c6e907b744e137360019946be0d28e"><div class="ttname"><a href="a09971.html#ab1c6e907b744e137360019946be0d28e">Modifiers::Wish</a></div><div class="ttdeci">enum Modifiers::EffectTrigger Wish</div></div>
<div class="ttc" id="a09984_html_a1e624897cd76ba1a59b3dd8e1503143f"><div class="ttname"><a href="a09984.html#a1e624897cd76ba1a59b3dd8e1503143f">PlayerHandler::SpawnPlayer</a></div><div class="ttdeci">void SpawnPlayer(int plrId, vec2 pos, int unitId, int team)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00047">PlayerHandler.as:47</a></div></div>
<div class="ttc" id="a10849_html_a949f2fc950ba53185dcc40b9ffd9d2f8"><div class="ttname"><a href="a10849.html#a949f2fc950ba53185dcc40b9ffd9d2f8">DamageInfo::Attacker</a></div><div class="ttdeci">Actor Attacker</div><div class="ttdef"><b>Definition:</b> <a href="a08603_source.html#l00053">IDamageTaker.as:53</a></div></div>
<div class="ttc" id="a09984_html_a277abd3f2bd952ed54984437b0827106"><div class="ttname"><a href="a09984.html#a277abd3f2bd952ed54984437b0827106">PlayerHandler::PlayerActiveSkillDeactivate</a></div><div class="ttdeci">void PlayerActiveSkillDeactivate(uint8 peer, int id)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00484">PlayerHandler.as:484</a></div></div>
<div class="ttc" id="a10489_html_aa9d3de608bf93feba143cf78be6acdfa"><div class="ttname"><a href="a10489.html#aa9d3de608bf93feba143cf78be6acdfa">Player::NetDamage</a></div><div class="ttdeci">void NetDamage(DamageInfo dmg, vec2 pos, vec2 dir) override</div><div class="ttdef"><b>Definition:</b> <a href="a15560_source.html#l00675">Player.as:675</a></div></div>
<div class="ttc" id="a09984_html_a76d3bc38c26614318b11e8174f3fc842"><div class="ttname"><a href="a09984.html#a76d3bc38c26614318b11e8174f3fc842">PlayerHandler::PlayerItemAttuned</a></div><div class="ttdeci">void PlayerItemAttuned(uint8 peer, string id)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00598">PlayerHandler.as:598</a></div></div>
<div class="ttc" id="a09984_html_a834bd8f0e4c769bb1821e21bc7d8be96"><div class="ttname"><a href="a09984.html#a834bd8f0e4c769bb1821e21bc7d8be96">PlayerHandler::PlayerChargeUnit</a></div><div class="ttdeci">void PlayerChargeUnit(uint8 peer, int id, float charge, vec2 target, int unitId)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00546">PlayerHandler.as:546</a></div></div>
<div class="ttc" id="a09984_html_a09e177ee461def824503b67e23ab2753"><div class="ttname"><a href="a09984.html#a09e177ee461def824503b67e23ab2753">PlayerHandler::PlayerGiveGold</a></div><div class="ttdeci">void PlayerGiveGold(uint8 peer, int amount)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00555">PlayerHandler.as:555</a></div></div>
<div class="ttc" id="a10473_html"><div class="ttname"><a href="a10473.html">Modifiers::TriggerEffect</a></div><div class="ttdef"><b>Definition:</b> <a href="a08351_source.html#l00003">TriggerEffect.as:3</a></div></div>
<div class="ttc" id="a11765_html_a0cf9f321b239002af1995a7eb92e7b60"><div class="ttname"><a href="a11765.html#a0cf9f321b239002af1995a7eb92e7b60">Titles::ClassTitles::NetRefreshModifiers</a></div><div class="ttdeci">void NetRefreshModifiers(PlayerRecord@ record, SValue@ params)</div><div class="ttdef"><b>Definition:</b> <a href="a09335_source.html#l00105">ClassTitles.as:105</a></div></div>
<div class="ttc" id="a09425_html_a6a5606f5f7c3548970b5a9f2dec9d959"><div class="ttname"><a href="a09425.html#a6a5606f5f7c3548970b5a9f2dec9d959">xy</a></div><div class="ttdeci">vec2 xy(vec3 v)</div><div class="ttdef"><b>Definition:</b> <a href="a09425_source.html#l00095">Functions.as:95</a></div></div>
<div class="ttc" id="a09275_html_a53fa56d646e10e7e631e67762a0d2b3b"><div class="ttname"><a href="a09275.html#a53fa56d646e10e7e631e67762a0d2b3b">GetLocalPlayer</a></div><div class="ttdeci">Player GetLocalPlayer()</div><div class="ttdef"><b>Definition:</b> <a href="a09275_source.html#l00377">main.as:377</a></div></div>
<div class="ttc" id="a08546_html_aa08e2da35bcb5ebd884c75cbd4edc34e"><div class="ttname"><a href="a08546.html#aa08e2da35bcb5ebd884c75cbd4edc34e">NetGiveOreImpl</a></div><div class="ttdeci">void NetGiveOreImpl(int amount, PlayerBase@ player)</div><div class="ttdef"><b>Definition:</b> <a href="a08546_source.html#l00058">GiveOre.as:58</a></div></div>
<div class="ttc" id="a08600_html_ad160cc55370544d66d7ed5fc386fe139"><div class="ttname"><a href="a08600.html#ad160cc55370544d66d7ed5fc386fe139">unit</a></div><div class="ttdeci">UnitProducer unit</div><div class="ttdef"><b>Definition:</b> <a href="a08600_source.html#l00033">GoreSpawner.as:33</a></div></div>
<div class="ttc" id="a08486_html_a3b2240216637ad9515d28943a0ec9804"><div class="ttname"><a href="a08486.html#a3b2240216637ad9515d28943a0ec9804">GetTavernDrink</a></div><div class="ttdeci">class TavernDrink GetTavernDrink(ActorItemQuality quality)</div><div class="ttdef"><b>Definition:</b> <a href="a08486_source.html#l00034">TavernDrink.as:34</a></div></div>
<div class="ttc" id="a09984_html_a58863da42c673e1631eaae4ac1dd0fd5"><div class="ttname"><a href="a09984.html#a58863da42c673e1631eaae4ac1dd0fd5">PlayerHandler::PlayerGiveKey</a></div><div class="ttdeci">void PlayerGiveKey(uint8 peer, int lock, int amount)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00573">PlayerHandler.as:573</a></div></div>
<div class="ttc" id="a09984_html_ace0cb0647bd5669d8b935eda7bb3cb1e"><div class="ttname"><a href="a09984.html#ace0cb0647bd5669d8b935eda7bb3cb1e">PlayerHandler::PlayerHealed</a></div><div class="ttdeci">void PlayerHealed(uint8 peer, int amnt, float hp)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00165">PlayerHandler.as:165</a></div></div>
<div class="ttc" id="a09971_html_ad1374fdc3ff8e9584252ccc74af4c8d1"><div class="ttname"><a href="a09971.html#ad1374fdc3ff8e9584252ccc74af4c8d1">Modifiers::Passive</a></div><div class="ttdeci">enum Modifiers::EffectTrigger Passive</div></div>
<div class="ttc" id="a10489_html_a1705ab988a78154ec6f5cd26923c4486"><div class="ttname"><a href="a10489.html#a1705ab988a78154ec6f5cd26923c4486">Player::NetShareExperience</a></div><div class="ttdeci">void NetShareExperience(int experience)</div><div class="ttdef"><b>Definition:</b> <a href="a15560_source.html#l00314">Player.as:314</a></div></div>
<div class="ttc" id="a09335_html_a7de9348a5fe49d9c7884272393c86365"><div class="ttname"><a href="a09335.html#a7de9348a5fe49d9c7884272393c86365">g_classTitles</a></div><div class="ttdeci">Titles::ClassTitles g_classTitles</div><div class="ttdef"><b>Definition:</b> <a href="a09335_source.html#l00130">ClassTitles.as:130</a></div></div>
<div class="ttc" id="a09984_html_a9e8002a84a6202f6f7b993c6a0dddaef"><div class="ttname"><a href="a09984.html#a9e8002a84a6202f6f7b993c6a0dddaef">PlayerHandler::PlayerRespecSkills</a></div><div class="ttdeci">void PlayerRespecSkills(uint8 peer)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00661">PlayerHandler.as:661</a></div></div>
<div class="ttc" id="a09997_html_af25c8a6728f07eb50c02a90cb86cb596"><div class="ttname"><a href="a09997.html#af25c8a6728f07eb50c02a90cb86cb596">Upgrades::GetShopUpgrade</a></div><div class="ttdeci">Upgrade GetShopUpgrade(string id, PlayerRecord@ record)</div><div class="ttdef"><b>Definition:</b> <a href="a09362_source.html#l00067">Shop.as:67</a></div></div>
<div class="ttc" id="a09984_html_ab89804caa13f74cea349af89c52ac3ba"><div class="ttname"><a href="a09984.html#ab89804caa13f74cea349af89c52ac3ba">PlayerHandler::PlayerPing</a></div><div class="ttdeci">void PlayerPing(uint8 peer, vec2 pos)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00733">PlayerHandler.as:733</a></div></div>
<div class="ttc" id="a11013_html_ac727a82ac11c2067ec77063db20d58f7"><div class="ttname"><a href="a11013.html#ac727a82ac11c2067ec77063db20d58f7">AGameMode::SpawnPlayer</a></div><div class="ttdeci">void SpawnPlayer(int i, vec2 pos=vec2(-1, -1), int unitId=0, uint team=0)</div><div class="ttdef"><b>Definition:</b> <a href="a08750_source.html#l00036">AGameMode.as:36</a></div></div>
<div class="ttc" id="a08633_html_a382cc5c6b51302019ef617c5364bb684"><div class="ttname"><a href="a08633.html#a382cc5c6b51302019ef617c5364bb684">Item</a></div><div class="ttdeci">Item(UnitPtr unit, SValue &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="a08633_source.html#l00234">Item.as:234</a></div></div>
<div class="ttc" id="a10501_html_a79d77536f487e3e2c250f6c14fe738f3"><div class="ttname"><a href="a10501.html#a79d77536f487e3e2c250f6c14fe738f3">PlayerHusk::m_dir</a></div><div class="ttdeci">vec2 m_dir</div><div class="ttdef"><b>Definition:</b> <a href="a08372_source.html#l00005">PlayerHusk.as:5</a></div></div>
<div class="ttc" id="a09971_html_a4b10f8a69bc4467d481051a9624f4177"><div class="ttname"><a href="a09971.html#a4b10f8a69bc4467d481051a9624f4177">Modifiers::Drink</a></div><div class="ttdeci">enum Modifiers::EffectTrigger Drink</div></div>
<div class="ttc" id="a09425_html_a2b8cbbb0d753d9aefbf91b1ff7868f72"><div class="ttname"><a href="a09425.html#a2b8cbbb0d753d9aefbf91b1ff7868f72">xyz</a></div><div class="ttdeci">vec3 xyz(vec4 v)</div><div class="ttdef"><b>Definition:</b> <a href="a09425_source.html#l00105">Functions.as:105</a></div></div>
<div class="ttc" id="a10501_html"><div class="ttname"><a href="a10501.html">PlayerHusk</a></div><div class="ttdef"><b>Definition:</b> <a href="a08372_source.html#l00001">PlayerHusk.as:1</a></div></div>
<div class="ttc" id="a10501_html_a431d7683ba5ae76fc43d3e4999e05463"><div class="ttname"><a href="a10501.html#a431d7683ba5ae76fc43d3e4999e05463">PlayerHusk::MovePlayer</a></div><div class="ttdeci">void MovePlayer(vec2 pos, vec2 dir)</div><div class="ttdef"><b>Definition:</b> <a href="a08372_source.html#l00122">PlayerHusk.as:122</a></div></div>
<div class="ttc" id="a09275_html_ac16b93886431d07154be1c8d27e41c47"><div class="ttname"><a href="a09275.html#ac16b93886431d07154be1c8d27e41c47">g_gameMode</a></div><div class="ttdeci">AGameMode g_gameMode</div><div class="ttdef"><b>Definition:</b> <a href="a09275_source.html#l00006">main.as:6</a></div></div>
<div class="ttc" id="a10489_html_a1b6f51f1627079fb2696e573fcbd469f"><div class="ttname"><a href="a10489.html#a1b6f51f1627079fb2696e573fcbd469f">Player::m_lastDirection</a></div><div class="ttdeci">vec2 m_lastDirection</div><div class="ttdef"><b>Definition:</b> <a href="a15560_source.html#l00016">Player.as:16</a></div></div>
<div class="ttc" id="a11013_html_adf73406a3a93bfc4f7ab4534484e8c67"><div class="ttname"><a href="a11013.html#adf73406a3a93bfc4f7ab4534484e8c67">AGameMode::AttemptRespawn</a></div><div class="ttdeci">void AttemptRespawn(uint8 peer)</div><div class="ttdef"><b>Definition:</b> <a href="a08750_source.html#l00038">AGameMode.as:38</a></div></div>
<div class="ttc" id="a09984_html_a52401d4f06fec12afebc33d667e5799d"><div class="ttname"><a href="a09984.html#a52401d4f06fec12afebc33d667e5799d">PlayerHandler::PlayerMoveForce</a></div><div class="ttdeci">void PlayerMoveForce(uint8 peer, vec2 pos, vec2 dir)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00099">PlayerHandler.as:99</a></div></div>
<div class="ttc" id="a09984_html_ad2f72d26d2e99657b89b35b77cba867a"><div class="ttname"><a href="a09984.html#ad2f72d26d2e99657b89b35b77cba867a">PlayerHandler::HealPlayer</a></div><div class="ttdeci">void HealPlayer(uint8 peer, int amnt)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00175">PlayerHandler.as:175</a></div></div>
<div class="ttc" id="a09984_html_a12e7ddfd58dd98d7c6d1bdc4022ffbe3"><div class="ttname"><a href="a09984.html#a12e7ddfd58dd98d7c6d1bdc4022ffbe3">PlayerHandler::ResetPlayerHealthArmor</a></div><div class="ttdeci">void ResetPlayerHealthArmor(int plrId)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00080">PlayerHandler.as:80</a></div></div>
<div class="ttc" id="a09994_html_ab5f3dd5af78ae8d7fa156022ca6891e5"><div class="ttname"><a href="a09994.html#ab5f3dd5af78ae8d7fa156022ca6891e5">Fountain::GetEffect</a></div><div class="ttdeci">Effect GetEffect(const string &amp;in effect)</div><div class="ttdef"><b>Definition:</b> <a href="a09344_source.html#l00086">FountainEffect.as:86</a></div></div>
<div class="ttc" id="a09275_html_aab84ef508ba02254f00c7cd02f420b28"><div class="ttname"><a href="a09275.html#aab84ef508ba02254f00c7cd02f420b28">g_scene</a></div><div class="ttdeci">Scene g_scene</div><div class="ttdef"><b>Definition:</b> <a href="a09275_source.html#l00005">main.as:5</a></div></div>
<div class="ttc" id="a10109_html_a6e78153dcbf4b811d1fa1f6949a56393"><div class="ttname"><a href="a10109.html#a6e78153dcbf4b811d1fa1f6949a56393">ActorItems::m_sets</a></div><div class="ttdeci">array&lt; ActorSet@&gt; m_sets</div><div class="ttdef"><b>Definition:</b> <a href="a08102_source.html#l00166">ActorItem.as:166</a></div></div>
<div class="ttc" id="a09984_html_a66ed229e347df2e108f26737f6a1b035"><div class="ttname"><a href="a09984.html#a66ed229e347df2e108f26737f6a1b035">PlayerHandler::TakeFreeLife</a></div><div class="ttdeci">void TakeFreeLife(int peer, int freeLives)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00413">PlayerHandler.as:413</a></div></div>
<div class="ttc" id="a09984_html_a9a0d1bd5cc99dc24fca1bce48353f6be"><div class="ttname"><a href="a09984.html#a9a0d1bd5cc99dc24fca1bce48353f6be">PlayerHandler::PlayerSyncHealth</a></div><div class="ttdeci">void PlayerSyncHealth(uint8 peer, float hp)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00197">PlayerHandler.as:197</a></div></div>
<div class="ttc" id="a08534_html_a8bc794c1e462b8c5940badb5e3225f31"><div class="ttname"><a href="a08534.html#a8bc794c1e462b8c5940badb5e3225f31">NetGiveGoldImpl</a></div><div class="ttdeci">void NetGiveGoldImpl(int amount, PlayerBase@ player)</div><div class="ttdef"><b>Definition:</b> <a href="a08534_source.html#l00047">GiveGold.as:47</a></div></div>
<div class="ttc" id="a09984_html_a4b190dae63ebb19e408fb11bb6a93857"><div class="ttname"><a href="a09984.html#a4b190dae63ebb19e408fb11bb6a93857">PlayerHandler::UseUnitSecure</a></div><div class="ttdeci">void UseUnitSecure(uint8 peer, UnitPtr unit)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00393">PlayerHandler.as:393</a></div></div>
<div class="ttc" id="a09984_html_ad9faf1f6bbb8760daa6b996b1a18e34e"><div class="ttname"><a href="a09984.html#ad9faf1f6bbb8760daa6b996b1a18e34e">PlayerHandler::PlayerTitleModifiers</a></div><div class="ttdeci">void PlayerTitleModifiers(uint8 peer, SValue@ params)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00724">PlayerHandler.as:724</a></div></div>
<div class="ttc" id="a08633_html_ab88d1e47a30ee6f60c8716cca8b2c050"><div class="ttname"><a href="a08633.html#ab88d1e47a30ee6f60c8716cca8b2c050">GiveItemImpl</a></div><div class="ttdeci">Item IUsable GiveItemImpl(ActorItem@ item, PlayerBase@ player, bool showFloatingText)</div><div class="ttdef"><b>Definition:</b> <a href="a08633_source.html#l00125">Item.as:125</a></div></div>
<div class="ttc" id="a10501_html_a1b9fb6daf9678bc8533e8a8c54eb446c"><div class="ttname"><a href="a10501.html#a1b9fb6daf9678bc8533e8a8c54eb446c">PlayerHusk::OnLevelUp</a></div><div class="ttdeci">void OnLevelUp()</div><div class="ttdef"><b>Definition:</b> <a href="a08372_source.html#l00134">PlayerHusk.as:134</a></div></div>
<div class="ttc" id="a09974_html_a13fb01e177e447105c1c8471944208ff"><div class="ttname"><a href="a09974.html#a13fb01e177e447105c1c8471944208ff">Materials::Category</a></div><div class="ttdeci">Category</div><div class="ttdef"><b>Definition:</b> <a href="a08660_source.html#l00006">PlayerMaterial.as:6</a></div></div>
<div class="ttc" id="a11013_html_a4ac60ed6114ee646126b91dc923059ee"><div class="ttname"><a href="a11013.html#a4ac60ed6114ee646126b91dc923059ee">AGameMode::SpawnPlayerCorpse</a></div><div class="ttdeci">void SpawnPlayerCorpse(int i, vec2 pos=vec2(-1, -1))</div><div class="ttdef"><b>Definition:</b> <a href="a08750_source.html#l00037">AGameMode.as:37</a></div></div>
<div class="ttc" id="a09984_html_a16c6ebc822f061552851b77c982381c8"><div class="ttname"><a href="a09984.html#a16c6ebc822f061552851b77c982381c8">PlayerHandler::PlayerActiveSkillDoActivate</a></div><div class="ttdeci">void PlayerActiveSkillDoActivate(uint8 peer, int id, vec2 target, SValue@ param)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00475">PlayerHandler.as:475</a></div></div>
<div class="ttc" id="a09984_html_a60c78b89125ef8224e773d64d63739be"><div class="ttname"><a href="a09984.html#a60c78b89125ef8224e773d64d63739be">PlayerHandler::SpawnPlayerCorpse</a></div><div class="ttdeci">void SpawnPlayerCorpse(int plrId, vec2 pos)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00060">PlayerHandler.as:60</a></div></div>
<div class="ttc" id="a09984_html_a4419c6f25125c19555b7e13b7bbb5631"><div class="ttname"><a href="a09984.html#a4419c6f25125c19555b7e13b7bbb5631">PlayerHandler::PlayerDamage</a></div><div class="ttdeci">void PlayerDamage(uint8 peer, int dmgType, int dmg)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00123">PlayerHandler.as:123</a></div></div>
<div class="ttc" id="a10849_html_a8180d29cd4daf285b0e372377ebdfd58"><div class="ttname"><a href="a10849.html#a8180d29cd4daf285b0e372377ebdfd58">DamageInfo::Melee</a></div><div class="ttdeci">bool Melee</div><div class="ttdef"><b>Definition:</b> <a href="a08603_source.html#l00057">IDamageTaker.as:57</a></div></div>
<div class="ttc" id="a09984_html_a5d1a0afefff5a31dab54b9ce158b786f"><div class="ttname"><a href="a09984.html#a5d1a0afefff5a31dab54b9ce158b786f">PlayerHandler::PlayerStackSkillTake</a></div><div class="ttdeci">void PlayerStackSkillTake(uint8 peer, int id, int num)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00511">PlayerHandler.as:511</a></div></div>
<div class="ttc" id="a09984_html_a1a92af8062700d4e742f11a531df1888"><div class="ttname"><a href="a09984.html#a1a92af8062700d4e742f11a531df1888">PlayerHandler::UseUnit</a></div><div class="ttdeci">void UseUnit(UnitPtr unit, UnitPtr user)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00375">PlayerHandler.as:375</a></div></div>
<div class="ttc" id="a09275_html_af09861986187da050dc06de5fa4b9c69"><div class="ttname"><a href="a09275.html#af09861986187da050dc06de5fa4b9c69">g_players</a></div><div class="ttdeci">array&lt; PlayerRecord@&gt; g_players</div><div class="ttdef"><b>Definition:</b> <a href="a09275_source.html#l00073">main.as:73</a></div></div>
<div class="ttc" id="a09984_html_a9fab3312c6779d9442f21e36aefa3ecc"><div class="ttname"><a href="a09984.html#a9fab3312c6779d9442f21e36aefa3ecc">PlayerHandler::PlayerActiveSkillActivate</a></div><div class="ttdeci">void PlayerActiveSkillActivate(uint8 peer, int id, vec2 target)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00466">PlayerHandler.as:466</a></div></div>
<div class="ttc" id="a09984_html_a5ea5ad7f3ccee3f7b0d350da1b05aa89"><div class="ttname"><a href="a09984.html#a5ea5ad7f3ccee3f7b0d350da1b05aa89">PlayerHandler::PlayerShareExperience</a></div><div class="ttdeci">void PlayerShareExperience(int experience)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00236">PlayerHandler.as:236</a></div></div>
<div class="ttc" id="a09984_html_afd2f377d2960dbcc0068c09578af3dde"><div class="ttname"><a href="a09984.html#afd2f377d2960dbcc0068c09578af3dde">PlayerHandler::PlayerGiveUpgrade</a></div><div class="ttdeci">void PlayerGiveUpgrade(uint8 peer, string id, int level)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00614">PlayerHandler.as:614</a></div></div>
<div class="ttc" id="a09984_html_a9f61ac19157c301dd9f5caacce622ef9"><div class="ttname"><a href="a09984.html#a9f61ac19157c301dd9f5caacce622ef9">PlayerHandler::GetPlayerIndex</a></div><div class="ttdeci">int GetPlayerIndex(uint8 peer)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00036">PlayerHandler.as:36</a></div></div>
<div class="ttc" id="a08102_html_a7a143400a8d6c1bc9e2a21499cbd1b5e"><div class="ttname"><a href="a08102.html#a7a143400a8d6c1bc9e2a21499cbd1b5e">g_items</a></div><div class="ttdeci">class ActorItems g_items</div></div>
<div class="ttc" id="a09984_html_a0254c13a6549d67953b0a562bbb23835"><div class="ttname"><a href="a09984.html#a0254c13a6549d67953b0a562bbb23835">PlayerHandler::PlayerGiveOre</a></div><div class="ttdeci">void PlayerGiveOre(uint8 peer, int amount)</div><div class="ttdef"><b>Definition:</b> <a href="a09290_source.html#l00564">PlayerHandler.as:564</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_53e6fa9553ac22a5646d2a2b2d7b97a1.html">scripts</a></li><li class="navelem"><a class="el" href="dir_ff946cfcc15cfe154554df2d73d313a2.html">Networking</a></li><li class="navelem"><a class="el" href="a09290.html">PlayerHandler.as</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
